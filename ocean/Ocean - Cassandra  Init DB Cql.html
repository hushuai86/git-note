<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-f8cd06f8-5315-4b44-b247-b3912ba54078"></attachment><h1>Ocean - Cassandra&nbsp;Init DB CqlOcean - Cassandra&nbsp;Init DB Cql</h1><pre class="ql-syntax" spellcheck="false">
CREATE KEYSPACE ocean-maggy WITH replication = {'class':'SimpleStrategy', 'replication_factor' : 1};

use ocean;

drop table telemetry;
drop table telemetry_60s;
drop table telemetry_300s;
drop table telemetry_900s;
drop table telemetry_3600s;
drop table telemetry_86400s;
drop table error;

create table telemetry (
&nbsp;&nbsp;"messageId" text,
&nbsp;&nbsp;"agentId" text,
&nbsp;&nbsp;"deviceId" text,
&nbsp;&nbsp;"measurePoint" text,
&nbsp;&nbsp;"string_value" text,
&nbsp;&nbsp;"boolean_value" boolean,
&nbsp;&nbsp;"double_value" double,
&nbsp;&nbsp;"ts" timestamp,
&nbsp;&nbsp;PRIMARY KEY (("deviceId","measurePoint"), "ts")
)
WITH CLUSTERING ORDER BY ("ts" DESC);

create table telemetry_60s (
&nbsp;&nbsp;"deviceId" text,
&nbsp;&nbsp;"pointName" text,
&nbsp;&nbsp;"ts" timestamp,
"string_value" text,
&nbsp;&nbsp;"boolean_value" boolean,
&nbsp;&nbsp;"double_value" double,
&nbsp;&nbsp;PRIMARY KEY (("deviceId","pointName"), "ts")
)
WITH CLUSTERING ORDER BY ("ts" DESC);


create table telemetry_300s (
&nbsp;&nbsp;"deviceId" text,
&nbsp;&nbsp;"pointName" text,
&nbsp;&nbsp;"ts" timestamp,
&nbsp;&nbsp;"string_value" text,
&nbsp;&nbsp;"boolean_value" boolean,
&nbsp;&nbsp;"double_value" double,
&nbsp;&nbsp;PRIMARY KEY (("deviceId","pointName"), "ts")
)
WITH CLUSTERING ORDER BY ("ts" DESC);

create table telemetry_900s (
&nbsp;&nbsp;"deviceId" text,
&nbsp;&nbsp;"pointName" text,
&nbsp;&nbsp;"ts" timestamp,
"string_value" text,
&nbsp;&nbsp;"boolean_value" boolean,
&nbsp;&nbsp;"double_value" double,
&nbsp;&nbsp;PRIMARY KEY (("deviceId","pointName"), "ts")
)
WITH CLUSTERING ORDER BY ("ts" DESC);

create table telemetry_3600s (
&nbsp;&nbsp;"deviceId" text,
&nbsp;&nbsp;"pointName" text,
&nbsp;&nbsp;"ts" timestamp,
&nbsp;&nbsp;"string_value" text,
&nbsp;&nbsp;"boolean_value" boolean,
&nbsp;&nbsp;"double_value" double,
&nbsp;&nbsp;PRIMARY KEY (("deviceId","pointName"), "ts")
)
WITH CLUSTERING ORDER BY ("ts" DESC);

create table telemetry_86400s (
&nbsp;&nbsp;"deviceId" text,
&nbsp;&nbsp;"pointName" text,
&nbsp;&nbsp;"ts" timestamp,
&nbsp;&nbsp;"string_value" text,
&nbsp;&nbsp;"boolean_value" boolean,
&nbsp;&nbsp;"double_value" double,
&nbsp;&nbsp;PRIMARY KEY (("deviceId","pointName"), "ts")
)
WITH CLUSTERING ORDER BY ("ts" DESC);

create table error (
&nbsp;&nbsp;"messageId" text,
&nbsp;&nbsp;"errorMessage" text,
&nbsp;&nbsp;"ts" timestamp,
&nbsp;&nbsp;PRIMARY KEY ("messageId", "ts")
)
WITH CLUSTERING ORDER BY ("ts" DESC);


alter table telemetry with default_time_to_live=1209600;
alter table telemetry_60s with default_time_to_live=1209600;
alter table telemetry_300s with default_time_to_live=1209600;
alter table telemetry_900s with default_time_to_live=1209600;
alter table telemetry_3600s with default_time_to_live=1209600;
alter table telemetry_86400s with default_time_to_live=1209600;
alter table error with D=1209600;
</pre><p><br></p>